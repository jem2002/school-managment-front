
    <div class="container-dashboard">

      <div id="sidebar">
        <div  >
          <ul class="nav flex-column hover px-0 mx-0 ul">
            <li class="logo px-4 py-3 d-flex flex-row li" (click)="mostrarDashboard()" >
              <div class="col-12">
                <i class="fas fa-atom"></i>
                <span style="font-weight: 500; margin-left: 10px;">Portal Académico</span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 mt-3 d-flex flex-row li" (click)="mostrarDashboard()" style="cursor: pointer;">

              <div class="col-9 ">
                <span class="">Inicio</span>
              </div>
              <div class="col-3">
                <span class="me-4"><i class="fas fa-tachometer-alt"></i></span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 d-flex flex-row li" (click)="mostrarEstudiantes()" style="cursor: pointer;" *ngIf="adminActivo" [routerLink]="['/dashboard/estudiantes/page/:page']" >
              <div class="col-9 " >
                <span class="col-sm-8">Estudiantes</span>
              </div>
              <div class="col-3">
                <span class="me-4 col-sm-4"><i class="fas fa-child"></i></span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 d-flex flex-row li" (click)="mostrarEmpleados()" style="cursor: pointer;" *ngIf="adminActivo" [routerLink]="['/dashboard/empleados']" >

              <div class="col-9">
                <span class="">Empleados</span>
              </div>
              <div class="col-3">
                <span class="me-4"><i class="fas fa-chalkboard-teacher"></i></span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 d-flex flex-row li" (click)="mostrarAulas()" style="cursor: pointer;" *ngIf="adminActivo" [routerLink]="['/dashboard/aulas']">
              <div class="col-9">
                <span class="">Aulas</span>
              </div>
              <div class="col-3">
                <span class="me-4"><i class="fas fa-school"></i></span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 d-flex flex-row li" (click)="mostrarCursos()" style="cursor: pointer;" *ngIf="adminActivo" [routerLink]="['/dashboard/cursos']">
              <div class="col-9">
                <span >Cursos</span>
              </div>
              <div class="col-3">
                <span class="me-4"><i class="fas fa-book"></i></span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 d-flex flex-row li" (click)="mostrarGrados()" style="cursor: pointer;" *ngIf="adminActivo" [routerLink]="['/dashboard/grados']">

              <div class="col-9">
                <span class="">Grados</span>
              </div>
              <div class="col-3">
                <span class="me-4"><i class="fas fa-chalkboard"></i></span>
              </div>
            </li>
            <li class="nav-item px-4 py-3 d-flex flex-row li" (click)="mostrarNotasEstudiante()" style="cursor: pointer;" *ngIf="estudianteActivo">

              <div class="col-9">
                <span class="">Notas</span>
              </div>
              <div class="col-3">
                <span class="me-4"><i class="fas fa-chalkboard"></i></span>
              </div>
            </li>
  
          </ul>
        </div>
      </div>
      <div id="dashboard">
        <div *ngIf="isDashboardActivo && adminActivo && !profesorActivo" class="dashboard-content">
          <div class="admin">
          Dashboard
          </div>
          <div class="cards">
            <div class="card-item estudiante">
              <div class="card-left">
                <div class="title">Estudiantes</div>
                <div class="info">{{cantidadEstudiantes}}</div>
              </div>
              <div class="card-right">
                <i class="fas fa-child fa-3x"></i>
              </div>
            </div>
            <div class="card-item profesor">
              <div class="card-left">
                <div class="title">Profesores</div>
                <div class="info">{{cantidadProfesores}}</div>
              </div>
              <div class="card-right">
                <i class="fas fa-chalkboard-teacher fa-3x"></i>
              </div>
            </div>
            <div class="card-item aula">
              <div class="card-left">
                <div class="title">Aulas</div>
                <div class="info">{{cantidadAulas}}</div>
              </div>
              <div class="card-right">
                <i class="fas fa-school fa-3x"></i>
              </div>
            </div>
            <div class="card-item cursos">

              
              <div class="card-left">
                <div class="title">Cursos</div>
                <div class="info">{{cantidadCursos}}</div>
              </div>
              <div class="card-right">
                <i class="fas fa-book fa-3x"></i>
              </div>
            </div>
            
          </div>
          <div class="charts">


            <div class="line-chart">
              <div class="chart-title d-flex justify-content-between">
                <span class="col-4">Gráfico de notas</span>
                <div class="d-flex justify-content-between col-xl-6 col-xxl-7 col-sm-8">
                  <div class="col-3">
                    <select  [(ngModel)]="curso" class="form-select form-select-sm" name="cursoId">
                        <option [ngValue]="undefined" >Cursos</option>
                        <option *ngFor="let curso of cursos" [ngValue]="curso">{{curso.nombre}}</option>
                    </select>
                    
                  </div>
                  <div class="col-3">
                    <select  [(ngModel)]="gradoId" class="form-select form-select-sm" name="gradoId">
                        <option [ngValue]="undefined" >Grados</option>
                        <option *ngFor="let grado of grados" [ngValue]="grado.id">{{grado.nombre}}</option>
                    </select>
                  </div>
                  <div class="col-3">
                    <select  [(ngModel)]="bimestre" class="form-select form-select-sm" name="bimestre">
                      <!-- Estos valores están relacionados a los atributos de la entidad Nota en el back -->
                        <option [ngValue]="undefined">Bimestres</option>
                        <option  value="nota_bim1">Bim 1</option>
                        <option value="nota_bim2">Bim 2</option>
                        <option value="nota_bim3">Bim 3</option>
                        <option value="nota_bim4">Bim 4</option>
                        <option value="promedio_final">Promedio final</option>
                    </select>
                  </div>
                  <button (click)="loadDataBarchart()" class="btn btn-outline-secondary d-flex justify-content-center align-items-center" style=" height: 30px;"><i class="fas fa-search"></i></button>
                  <button (click)="getNotasExcel()" class="btn btn-outline-primary d-flex justify-content-center align-items-center" style=" height: 30px;"><i class="fas fa-file-download"></i></button>
                </div>
              </div>
              <hr>
              <div class="chart-data">
                <app-line-chart [events]="eventsSubjectBar.asObservable()"></app-line-chart>
              </div>
            </div>

            <div class="pie-chart">
              <div class="chart-title d-flex justify-content-between">
                <span>Gráfico de asistencias</span>
                <div class="col-md-4">
                  <div class="input-group input-group-sm">
                      <div class="input-group-text" >
                        <i class="far fa-calendar-alt"></i>
                      </div>
                    <input type="text"
                      name="datePicked"
                      placeholder="Elegir fecha"
                      class="form-control"
                      bsDatepicker
                      [maxDate]="maxDate"
                      [bsConfig]="bsConfig"
                      autocomplete="off"
                      [(ngModel)]="datePicked">
                      
                      <button (click)="loadDataPiechart()" class="btn btn-outline-secondary"><i class="fas fa-search"></i></button>
                      <button (click)="getAsistenciaExcel()" class="btn btn-outline-primary d-flex justify-content-center align-items-center ms-2" style=" height: 30px;"><i class="fas fa-file-download"></i></button>
                  </div>
                </div>
              </div>
              <hr>
              <div class="chart-data">
                <app-pie-chart [events]="eventsSubjectPie.asObservable()"></app-pie-chart>
              </div>
              
            </div>
          </div>

        </div>
  
        
      <div *ngIf="isDashboardActivo && !adminActivo && !estudianteActivo" class="p-4">

        <div class="card mt-2" *ngIf="profesorActivo">
  
          <div class="card-body">
            <h5>Clases asignadas</h5>
          <hr>
            <div class="row row-cols-1 row-cols-md-3">
              <div class="col" *ngFor="let clase of clasesProfesor">
                <div>
                  <ul class="list-group list-group-flush">
                    <div class="row p-3">
                      <ul class="list-group px-2">
                        <li class="list-group-item list-group-item-primary"><span>{{clase.curso.nombre}}</span></li>
                        <li class="list-group-item list-group-item-light"><span>Aula: </span><span>{{clase.aula.nombre}}{{clase.aula.seccion}}</span></li>
                        <li class="list-group-item list-group-item-light" ><span>Profesor: </span><span>{{clase.empleado.nombres}} {{clase.empleado.apellidoPaterno}}</span></li>
                        <a  style="text-decoration: none; color: inherit;">
                          <li class="list-group-item list-group-item-success text-center" (click)="irClase(clase)" style="cursor: pointer;">Ver clase</li>
                        </a>
                      </ul>
                    </div>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>


      <div *ngIf="isDashboardActivo && !adminActivo && !profesorActivo" class="p-4">

        <div class="card mt-2" *ngIf="estudianteActivo">
  
          <div class="card-body">
            <h5>Clases asignadas estudiante</h5>
          <hr>
            <div class="row row-cols-1 row-cols-md-3">
              <div class="col" *ngFor="let clase of clasesEstudiante">
                <div>
                  <ul class="list-group list-group-flush">
                    <div class="row p-3">
                      <ul class="list-group px-2">
                        <li class="list-group-item list-group-item-primary"><span>{{clase.curso.nombre}}</span></li>
                        <li class="list-group-item list-group-item-light"><span>Aula: </span><span>{{clase.aula.nombre}} {{clase.aula.seccion}}</span></li>
                        <li class="list-group-item list-group-item-light" ><span>Profesor: </span><span>{{clase.empleado.nombres}} {{clase.empleado.apellidoPaterno}}</span></li>
                        <a  style="text-decoration: none; color: inherit;">
                          <li class="list-group-item list-group-item-success text-center" (click)="irClase(clase)" style="cursor: pointer;">Ver clase</li>
                        </a>
                      </ul>
                    </div>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>


        <div *ngIf="!isDashboardActivo" class="px-4 pt-3 dashboard pb-5">
          <router-outlet (parentFunction)="parentFunction($event)"></router-outlet>
        </div>
      </div>





      </div>

